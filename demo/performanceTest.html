<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>ClipBoard</title>
        <!-- install -->
        <script type="text/javascript" src="../dist/superClipBoard.min.js"></script>
    </head>
    <body>
        <h1>Performance Test</h1>
        <span>Content Size(KB)</span>
        <input type="text" maxlength="4" id="size" value="10"/>
        <button id="btn">Run</button>
        <span id="result"></span>
        <script>
            var createContent = function(size){
                // size(KB)
                var contents = [];
                    content = '123456789';
                contents.push('copy success! ' + size*100 + ' rows.' + '\n');
                for(var i = size * 100; i>0; i--){
                    contents.push(content + '\n');
                }
                contents.push('copy success! ' + size*100 + ' rows.' + '\n');
                return contents.join('');
            }
            // bind event
            var size = document.getElementById('size'),
                dom = document.getElementById('btn'),
                copy = function(){
                    var content = createContent(size.value),
                        time1 = new Date().getTime();
                    result.innerHTML = 'waiting';
                    var isSuccess = superClipBoard.copy(content);
                    result.innerHTML = 'Copy ' + (isSuccess ? 'success' : 'error') + ' ! time spend: ' + (new Date().getTime() - time1) + ' ms';
                };
            if(dom.addEventListener){
                dom.addEventListener("click", copy);
            }
            else if(dom.attachEvent){
                dom.attachEvent( "onClick", copy);
            }
        </script>
    </body>
</html>

